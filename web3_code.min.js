const tokenAddress="0x537ed037c3b816e88df630145ba6e56bd0df016c",contractAddress="0x423ba8693d73e9d3582b6bc162123dadc2554e9f",tokenABI=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"receivers",type:"address[]"},{name:"amounts",type:"uint256[]"}],name:"multiTransfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"player",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"tokens",type:"uint256"},{name:"data",type:"bytes"}],name:"approveAndCall",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"player",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}],contractABI=[{inputs:[{internalType:"address payable",name:"_dev_lax",type:"address"},{internalType:"address payable",name:"_dev_math",type:"address"},{internalType:"address payable",name:"_marketer1",type:"address"},{internalType:"address payable",name:"_marketer2",type:"address"},{internalType:"address",name:"_token",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bought_shares",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"sold_shares",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Remove",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Withdraw",type:"event"},{constant:!0,inputs:[],name:"active",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_adr",type:"address"}],name:"addAdmin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"admin",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"calculateBoughtUnits",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"cookie_count",type:"uint256"}],name:"calculateCookieValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"calculateCookieValueForPlayer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"calculateForUnitPot",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"user",type:"address"}],name:"calculateGains",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"address",name:"player",type:"address"}],name:"calculateNewPlayerUnits",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"calculateNewUnitPric",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"calculateSellPricePerUnitWithFees",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"calculateSharesBought",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"calculateTotalBuyFees",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"},{internalType:"address payable",name:"player",type:"address"}],name:"calculateUnitSellAllValueWithFees",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"calculateUnitSellValueWithFees",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"canAdminWithdraw",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ceoAddress",outputs:[{internalType:"address payable",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"donations",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getCEOAddress",outputs:[{internalType:"address payable",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getCookiePot",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"player",type:"address"}],name:"getCookiesPerSecondForPlayer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"player",type:"address"},{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"getCookiesPerSecondForPlayerUnit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"player",type:"address"}],name:"getOldProducedCookiesForPlayer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"player",type:"address"}],name:"getPlayerCookies",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"},{internalType:"address",name:"player",type:"address"}],name:"getPlayerUnitsById",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"player",type:"address"}],name:"getProducedCookiesForPlayer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"player",type:"address"}],name:"getProductionStartForPlayer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getTotalCookiesInExistence",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getTotalProducedCookies",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getTotalUnits",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"getUnit",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"getUnitBuyFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"getUnitCookiesPerSecond",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"getUnitCountById",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"getUnitName",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"getUnitPot",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"getUnitPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"getUnitPriceInc",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"getUnitSellFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"getUnitSharesById",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"getUnitUnlocksAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"_adr",type:"address"}],name:"isAdmin",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"}],name:"isUnitUnlocked",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"last_update",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"last_withdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"legacy_pot",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"parseRefAdrFromBytes",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"parseUnitIdFromBytes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"pot",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"tokens",type:"uint256"},{internalType:"address",name:"_token",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"receiveApproval",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_adr",type:"address"}],name:"removeAdmin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"},{internalType:"address payable",name:"ref",type:"address"}],name:"sellAllUnits",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"sellCookies",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"unit_id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address payable",name:"ref",type:"address"}],name:"sellUnits",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"shares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"toggleActive",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{internalType:"contract Token",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"top_donater",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"top_donater_value",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"total_produced_cookies",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"total_shares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"total_sold_cookies",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"unclaimed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address payable",name:"_to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawFromCookiePot",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"withdrawGains",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}];let myaddress,refferal,contractInstance,tokenInstance,sellFee=[],unitCount=[],loaded=!1;Promise.queue=function a(a){return new Promise(function(b,c){const d=[];let e=0;const f=setInterval(async function(){e++;const g=[];for(let b=0;3>b;b++)0<a.length&&g.push(a.shift()());const h=await Promise.all(g);h.forEach(a=>d.push(a)),0==a.length&&(clearInterval(f),b(d)),10<=e&&c("more than 10 tries")},1e3)})};function roundToFour(a){return+(Math.floor(a+"e+4")+"e-4")}function roundToTwo(a){return+(Math.floor(a+"e+2")+"e-2")}function round(a){return+(Math.floor(a+"e+0")+"e-0")}function roundToTwoOrFour(a){return 1>a?roundToFour(a):roundToTwo(a)}function kOrMi(a){return 999<a?roundToTwo(a/1e3)+" K":999999<a?roundToTwo(a/1e6)+" Mi":roundToTwo(a)}window.addEventListener("load",async()=>{if(window.ethereum){window.web3=new Web3(ethereum);try{await ethereum.enable()}catch(a){}myaddress=await web3.eth.getAccounts(),myaddress=myaddress[0],console.log(myaddress),console.log("2")}else window.web3?(window.web3=new web3(web3.currentProvider),console.log("3")):alert("Non-Ethereum browser detected. You should consider trying MetaMask!")});const accountInterval1=setInterval(async function(){contractInstance===void 0?(contractInstance=new web3.eth.Contract(contractABI,contractAddress),tokenInstance=new web3.eth.Contract(tokenABI,tokenAddress),refferal=getUrlVars().ref||myaddress,console.log(refferal),await putvalues(),await loadOneTime()):(await putvalues(),await loadOneTime())},1e4);async function putvalues(){const[a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z]=await Promise.queue([contractInstance.methods.unclaimed(myaddress).call,contractInstance.methods.calculateGains(myaddress).call,contractInstance.methods.getPlayerUnitsById(0,myaddress).call,contractInstance.methods.getPlayerUnitsById(1,myaddress).call,contractInstance.methods.getPlayerUnitsById(2,myaddress).call,contractInstance.methods.getPlayerUnitsById(3,myaddress).call,contractInstance.methods.getUnitSharesById(0).call,contractInstance.methods.getUnitSharesById(1).call,contractInstance.methods.getUnitSharesById(2).call,contractInstance.methods.getUnitSharesById(3).call,contractInstance.methods.getUnitCookiesPerSecond(0).call,contractInstance.methods.getUnitCookiesPerSecond(1).call,contractInstance.methods.getUnitCookiesPerSecond(2).call,contractInstance.methods.getUnitCookiesPerSecond(3).call,contractInstance.methods.getUnitPrice(0).call,contractInstance.methods.getUnitPrice(1).call,contractInstance.methods.getUnitPrice(2).call,contractInstance.methods.getUnitPrice(3).call,contractInstance.methods.getCookiePot().call,contractInstance.methods.getPlayerCookies(web3.eth.accounts[0]).call,contractInstance.methods.calculateCookieValueForPlayer().call,tokenInstance.methods.balanceOf(web3.eth.accounts[0]).call,contractInstance.methods.getUnitCountById(0).call,contractInstance.methods.getUnitCountById(1).call,contractInstance.methods.getUnitCountById(2).call,contractInstance.methods.getUnitCountById(3).call]);document.getElementById("WithdrawbleFrag").innerHTML=roundToTwoOrFour((+a+ +b)/1e18),document.getElementById("YourUnits1").innerHTML=roundToTwoOrFour(c/1e4),document.getElementById("YourUnits2").innerHTML=roundToTwoOrFour(d/1e4),document.getElementById("YourUnits3").innerHTML=roundToTwoOrFour(e/1e4),document.getElementById("YourUnits4").innerHTML=roundToTwoOrFour(f/1e4),document.getElementById("ProdUnit1top").innerHTML=roundToTwo(k*c/1e4),document.getElementById("ProdUnit2top").innerHTML=roundToTwo(l*d/1e4),document.getElementById("ProdUnit3top").innerHTML=roundToTwo(m*e/1e4),document.getElementById("ProdUnit4top").innerHTML=roundToTwo(n*f/1e4),document.getElementById("unit1_prod").innerHTML=roundToTwo(k),document.getElementById("unit2_prod").innerHTML=roundToTwo(l),document.getElementById("unit3_prod").innerHTML=roundToTwo(m),document.getElementById("unit4_prod").innerHTML=roundToTwo(n),document.getElementById("YourShare1").innerHTML=roundToTwo(g*c/1e4),document.getElementById("YourShare2").innerHTML=roundToTwo(h*d/1e4),document.getElementById("YourShare3").innerHTML=roundToTwo(i*e/1e4),document.getElementById("YourShare4").innerHTML=roundToTwo(j*f/1e4),document.getElementById("unit1_shares").innerHTML=roundToTwo(g),document.getElementById("unit2_shares").innerHTML=roundToTwo(h),document.getElementById("unit3_shares").innerHTML=roundToTwo(i),document.getElementById("unit4_shares").innerHTML=roundToTwo(j),document.querySelectorAll("#BuyPriceUnit1").forEach(a=>a.innerHTML=roundToTwo(1e4*(o/1e18))),document.querySelectorAll("#BuyPriceUnit2").forEach(a=>a.innerHTML=roundToTwo(1e4*(p/1e18))),document.querySelectorAll("#BuyPriceUnit3").forEach(a=>a.innerHTML=roundToTwo(1e4*(q/1e18))),document.querySelectorAll("#BuyPriceUnit3").forEach(a=>a.innerHTML=roundToTwo(1e4*(q/1e18))),document.querySelectorAll("#BuyPriceUnit4").forEach(a=>a.innerHTML=roundToTwo(1e4*(r/1e18))),document.getElementById("FragBalance").innerHTML=roundToTwo(v/1e18),document.getElementById("cookiePot").innerHTML=roundToTwo(s/1e18),document.getElementById("your_cookies").innerHTML=kOrMi(t/1e4),document.getElementById("cookies_value").innerHTML=roundToTwoOrFour(u/1e18),document.getElementById("your_addy").innerHTML=myaddress.substring(0,3)+"..."+myaddress.substring(myaddress.length-4,myaddress.length),document.getElementById("your_prod").innerHTML=roundToTwo((k*c+l*d+m*e+n*f)/1e4),document.getElementById("your_shares").innerHTML=roundToTwo((g*c+h*d+i*e+j*f)/1e4),unitCount[0]=w/1e4,unitCount[1]=x/1e4,unitCount[2]=y/1e4,unitCount[3]=z/1e4,document.getElementById("totalUnits1").innerHTML=kOrMi(unitCount[0]),document.getElementById("totalUnits2").innerHTML=kOrMi(unitCount[1]),document.getElementById("totalUnits3").innerHTML=kOrMi(unitCount[2]),document.getElementById("totalUnits4").innerHTML=kOrMi(unitCount[3]),document.getElementById("totalShares1").innerHTML=kOrMi(w*g/1e4),document.getElementById("totalShares2").innerHTML=kOrMi(x*g/1e4),document.getElementById("totalShares3").innerHTML=kOrMi(y*g/1e4),document.getElementById("totalShares4").innerHTML=kOrMi(z*g/1e4)}async function loadOneTime(){const[a,b,c,d,e,f,g,h]=await Promise.queue([contractInstance.methods.getUnitSellFee(0).call,contractInstance.methods.getUnitSellFee(1).call,contractInstance.methods.getUnitSellFee(2).call,contractInstance.methods.getUnitSellFee(3).call,contractInstance.methods.getUnitBuyFee(0).call,contractInstance.methods.getUnitBuyFee(1).call,contractInstance.methods.getUnitBuyFee(2).call,contractInstance.methods.getUnitBuyFee(3).call]);console.log(d);const[i,j,k,l]=await Promise.all([isUnitUnlocked(0),isUnitUnlocked(1),isUnitUnlocked(2),isUnitUnlocked(3)]);sellFee[0]=a,sellFee[1]=b,sellFee[2]=c,sellFee[3]=d,(a==null||b==null||c==null||d==null||e==null||f==null||g==null||h==null)&&loadOneTime(),document.querySelectorAll("#sellFee1").forEach(a=>a.innerHTML=sellFee[0]+"%"),document.querySelectorAll("#sellFee2").forEach(a=>a.innerHTML=sellFee[1]+"%"),document.querySelectorAll("#sellFee3").forEach(a=>a.innerHTML=sellFee[2]+"%"),document.querySelectorAll("#sellFee4").forEach(a=>a.innerHTML=sellFee[3]+"%"),document.querySelectorAll("#buyFee1").forEach(a=>a.innerHTML=e+"%"),document.querySelectorAll("#buyFee2").forEach(a=>a.innerHTML=f+"%"),document.querySelectorAll("#buyFee3").forEach(a=>a.innerHTML=g+"%"),document.querySelectorAll("#buyFee4").forEach(a=>a.innerHTML=h+"%"),i&&($("#isLocked1").hide(),$("#info1").show()),j&&($("#isLocked2").hide(),$("#info2").show()),k&&($("#isLocked3").hide(),$("#info3").show()),l&&($("#isLocked4").hide(),$("#info4").show()),loaded=!0}async function withdraw(){contractInstance.methods.withdrawGains().send({feeLimit:1e7,callValue:0,shouldPollResponse:!0})}async function sellcookies(){contractInstance.methods.sellCookies().send({feeLimit:1e7,callValue:0,shouldPollResponse:!0})}async function buyUnits(a,b,c){const d=tronWeb.address.toHex(c).substring(2);await tokenInstance.methods.approveAndCall(contractAddress,tronWeb.toHex(1e18*b),`0x00000000000000000000000000000000000000000000000000000000000000${a}000000000000000000000000${d}`).send({feeLimit:1e7,shouldPollResponse:!1,callValue:0})}async function sellUnits(a,b,c){await contractInstance.methods.sellUnits(a,+(1e4*b),c).send({feeLimit:1e7,shouldPollResponse:!1,callValue:0})}async function isUnitUnlocked(a){const b=await contractInstance.methods.isUnitUnlocked(a).call();return b}async function getReff(){const a=web3.eth.accounts[0],b=window.location.protocol+"//"+window.location.host+"/?ref=";copyToClipboard(b+a),alert("Refferal link copied")}function copyToClipboard(a){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",a);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var b=document.createElement("textarea");b.textContent=a,b.style.position="fixed",document.body.appendChild(b),b.select();try{return document.execCommand("copy")}catch(a){return console.warn("Copy to clipboard failed.",a),!1}finally{document.body.removeChild(b)}}}function getUrlVars(){var a={},b=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(b,c,d){a[c]=d});return a}$(document).ready(function(){console.log("loaded"),$(".buyUnitField").each(function(a){var b=$(this);b.data("oldVal",b.val()),b.bind("propertychange change click keyup input paste",function(){b.data("oldVal")!=b.val()&&(b.data("oldVal",b.val()),updateBuyFields(b.val(),a))})}),$(".sellUnitField").each(function(a){var b=$(this);b.data("oldVal",b.val()),b.bind("propertychange change click keyup input paste",function(){b.data("oldVal")!=b.val()&&(b.data("oldVal",b.val()),updateSellFields(b.val(),a))})}),$("#Buy1").click(function(){const a=document.getElementById("BuyUnit1").value;buyUnits(0,a,refferal)}),$("#Buy2").click(function(){const a=document.getElementById("BuyUnit2").value;buyUnits(1,a,refferal)}),$("#Buy3").click(function(){const a=document.getElementById("BuyUnit3").value;buyUnits(2,a,refferal)}),$("#Buy4").click(function(){const a=document.getElementById("BuyUnit4").value;buyUnits(3,a,refferal)}),$("#Sell1").click(function(){const a=document.getElementById("SellUnit1").value;sellUnits(0,a,refferal)}),$("#Sell2").click(function(){const a=document.getElementById("SellUnit2").value;sellUnits(1,a,refferal)}),$("#Sell3").click(function(){const a=document.getElementById("SellUnit3").value;sellUnits(2,a,refferal)}),$("#Sell4").click(function(){const a=document.getElementById("SellUnit4").value;sellUnits(3,a,refferal)})});function updateBuyFields(a,b){const c=b+1,d=document.getElementById("BuyPriceUnit"+c).innerHTML;document.getElementById("BuyUnit"+c+"Recive").innerHTML=roundToTwo(a/d)}async function updateSellFields(a,b){const c=await contractInstance.methods.getUnitPot(b).call(),d=.99*(c/1e18/(1e4*unitCount[b])*a*(100-(sellFee[b]+10))/100);document.getElementById("SellFragRecive"+(b+1)).innerHTML=roundToTwo(1e4*d)}
